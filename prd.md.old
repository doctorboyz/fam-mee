# Product Requirements Document (PRD)

**Project Name:** Family Wealth & Lifestyle Manager (Code Name: FamilyOS)
**Version:** 1.1.0 (Updated: Authentication & Event Logic)
**Status:** Ready for Development
**Tech Stack:** Next.js (PWA), Go (Fiber), PostgreSQL

---

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç (Table of Contents)

1. [‡∏ö‡∏ó‡∏ô‡∏≥‡πÅ‡∏•‡∏∞‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏° (Introduction)](#1-‡∏ö‡∏ó‡∏ô‡∏≥‡πÅ‡∏•‡∏∞‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°-introduction)
2. [‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå (User System & Authentication)](#2-‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå-user-system--authentication)
3. [‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô (Core Financial Features)](#3-‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô-core-financial-features)
4. [‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå (Investment & Asset Management)](#4-‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå-investment--asset-management)
5. [‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏ö‡πâ‡∏≤‡∏ô (Event & Task Unified System)](#5-‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏ö‡πâ‡∏≤‡∏ô-event--task-unified-system)
6. [‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡πÅ‡∏•‡∏∞ Gamification (Family & Gamification)](#6-‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡πÅ‡∏•‡∏∞-gamification-family--gamification)
7. [‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ (Technical Architecture)](#7-‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ-technical-architecture)
8. [‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤ (Development Roadmap)](#8-‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤-development-roadmap)

---

## 1. ‡∏ö‡∏ó‡∏ô‡∏≥‡πÅ‡∏•‡∏∞‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏° (Introduction)

### 1.1 ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå (Objective)

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£ ‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô (Wealth), ‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° (Event/Task), ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ß‡∏¥‡∏ô‡∏±‡∏¢ (Gamification) ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß‡πÅ‡∏•‡∏∞‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡∏Ç‡∏¢‡∏≤‡∏¢

---

## 2. ‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå (User System & Authentication)

### 2.1 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (Hybrid Account Structure)

‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô 2 ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô‡∏Å‡∏±‡∏ô:

1.  **Main Account & Sub-Profiles (Netflix Style):**
    - 1 Email = 1 Main User (Admin).
    - Main User ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á **Sub-Profiles** (Parent/Child) ‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ Email ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß.
    - **Login Flow:** ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Email/Password ‡∏´‡∏•‡∏±‡∏Å -> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Profile ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -> ‡πÉ‡∏™‡πà PIN (‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ).
2.  **Independent Account (Invite Style):**
    - ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏µ Email ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÅ‡∏¢‡∏Å‡πÑ‡∏î‡πâ.
    - **Join Family:** ‡∏ô‡∏≥ Invite Code ‡∏Ç‡∏≠‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏°‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° -> ‡∏£‡∏≠ Admin ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ (Status: Pending -> Active).

### 2.2 ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå (Roles & Permissions)

| Role                      | User Type          | ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á (Permissions)                                                                            |
| :------------------------ | :----------------- | :-------------------------------------------------------------------------------------------------------- |
| **Admin (Parent)**        | Main / Independent | **Full Access:** ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Family Settings, ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ Member, ‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏∏‡∏Å Transaction ‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô, ‡∏™‡∏£‡πâ‡∏≤‡∏á Event/Task     |
| **Member (Partner)**      | Sub / Independent  | **High Access:** ‡πÄ‡∏´‡πá‡∏ô Transaction ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á, ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Budget, ‡∏ä‡πà‡∏ß‡∏¢‡∏ï‡∏£‡∏ß‡∏à Task ‡∏•‡∏π‡∏Å                  |
| **Child - Young (6-9)**   | Sub-Profile        | **Very Restricted:** ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á, Task ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á, ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß, Simple Calendar View |
| **Child - Older (10-14)** | Sub-Profile        | **Restricted:** + ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏™‡∏ô‡∏≠ Event (‡∏£‡∏≠ Approve), + ‡πÄ‡∏û‡∏¥‡πà‡∏° Expense (‡∏£‡∏≠ Approve), + Full Calendar View       |
| **Child - Teen (15-17)**  | Sub-Profile        | **Moderate:** + ‡πÄ‡∏´‡πá‡∏ô Net Worth (Read-only), + ‡πÄ‡∏´‡πá‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß (Read-only), + Transfer ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô        |

**Permission Settings:** Parent ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏±‡∏ö Permission Level ‡∏Ç‡∏≠‡∏á Child ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô Family Settings ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö‡∏≠‡∏≤‡∏¢‡∏∏‡∏à‡∏£‡∏¥‡∏á (‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡πá‡∏Å‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô)

---

## 3. ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô (Core Financial Features)

### 3.1 Advanced Transaction Logic

- **Plan vs Actual:**
  - `Planned Amount`: ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏á‡∏ö‡πÑ‡∏ß‡πâ (‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Budgeting/Event Planning).
  - `Actual Amount`: ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢‡∏à‡∏£‡∏¥‡∏á.
- **Fee & Interest Handling:** ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢/‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡πÉ‡∏ô Transaction ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
  - _Logic:_ ‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á = Amount + Fee ‡πÅ‡∏ï‡πà‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á (‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏î‡∏´‡∏ô‡∏µ‡πâ) = Amount ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô.
- **Status Management:** `Planned` (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î), `Pending` (‡∏£‡∏≠‡∏ï‡∏±‡∏î‡∏ö‡∏±‡∏ç‡∏ä‡∏µ), `Completed` (‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à), `Cancelled` (‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÅ‡∏ú‡∏ô), `Void` (‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß/‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏á‡∏¥‡∏ô).

### 3.2 Multi-layer Categories & 6 Jars

- **Tree Structure:** ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏¢‡πà‡∏≠‡∏¢‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ä‡∏±‡πâ‡∏ô.
- **6 Jars Mapping:** ‡∏ú‡∏π‡∏Å Category ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö 6 Jars (NEC, PLY, FFA, etc.) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥.

### 3.3 Debt Management

- **Loan Tracking:** ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ (Simple/Effective Rate) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏µ‡πâ‡∏ö‡πâ‡∏≤‡∏ô/‡∏£‡∏ñ.
- **Credit Card:** ‡πÅ‡∏¢‡∏Å‡∏¢‡∏≠‡∏î‡∏´‡∏ô‡∏µ‡πâ (Liability) ‡πÅ‡∏•‡∏∞‡∏¢‡∏≠‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (Expense) ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏±‡∏ô.

---

## 4. ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå (Investment & Asset Management)

### 4.1 Multi-Asset Inventory

- **Asset Types:** Fiat (THB, USD), Stock, Crypto, Property, ‡πÅ‡∏•‡∏∞ **Family Point**.
- **Pair Trading:** ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Transaction ‡πÅ‡∏ö‡∏ö Swap (Asset A -> Asset B) ‡πÇ‡∏î‡∏¢‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Exchange Rate ‡∏ì ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£.

### 4.2 Business/Project Layer

- **Matrix Dimension:** Tag "Project" ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö Transaction ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π P&L ‡πÅ‡∏¢‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£ (‡πÄ‡∏ä‡πà‡∏ô ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏ä‡πà‡∏≤ A, ‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü, ‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏•‡∏π‡∏Å) ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Category ‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô.

---

## 5. ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏ö‡πâ‡∏≤‡∏ô (Event & Task Unified System)

### 5.1 Event as a Core Container

"‡∏ó‡∏∏‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Ñ‡∏∑‡∏≠ Event" ‡∏ó‡∏±‡πâ‡∏á Transaction, Task, ‡πÅ‡∏•‡∏∞ Calendar Event ‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô:

- **Event Types:**
  - `General`: ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ.
  - `Trip/Project`: Event ‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ Transaction ‡∏¢‡πà‡∏≠‡∏¢‡πÜ ‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ô (Budgeting).
  - `Routine`: ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏ã‡πâ‡∏≥ (Habit Tracker) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö Streak.
  - `Task`: ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏Å Reward.

### 5.2 Task & Reward Logic

- **Assignment:** Parent ‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢ Task ‡πÉ‡∏´‡πâ Child (‡∏£‡∏∞‡∏ö‡∏∏ Reward Points).
- **Workflow:** Child ‡∏ó‡∏≥‡πÄ‡∏™‡∏£‡πá‡∏à -> ‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ (Media) -> ‡∏Å‡∏î Complete -> Parent Approve -> System ‡πÇ‡∏≠‡∏ô Points ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥.
- **Streak System:** Routine Event ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏±‡∏ö Streak (‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Multiplier ‡πÉ‡∏´‡πâ Reward ‡πÑ‡∏î‡πâ.

### 5.3 Rich Memories

- **Media Attachment:** ‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û/‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö Event ‡∏´‡∏£‡∏∑‡∏≠ Transaction (‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏π‡∏õ‡∏ö‡∏¥‡∏•, ‡∏£‡∏π‡∏õ‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®‡∏ó‡∏£‡∏¥‡∏õ, ‡∏£‡∏π‡∏õ‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å).

---

## 6. ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡πÅ‡∏•‡∏∞ Gamification (Family & Gamification)

### 6.1 Family Points Economy

- **Family Point (FP):** ‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏à‡∏£‡∏¥‡∏á.
- **Redemption Store:** ‡πÅ‡∏Ñ‡∏ï‡∏ï‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏î‡∏¢ Parent) ‡∏•‡∏π‡∏Å‡∏Å‡∏î‡πÅ‡∏•‡∏Å Point -> Parent ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡πÉ‡∏´‡πâ.

### 6.2 Privacy & Visibility

- **Data Isolation:** ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡πÅ‡∏¢‡∏Å‡∏î‡πâ‡∏ß‡∏¢ `family_id`.
- **Visibility Flags:**
  - `Private`: ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏á‡∏¥‡∏ô‡∏ã‡πà‡∏≠‡∏ô‡∏†‡∏£‡∏£‡∏¢‡∏≤/‡∏™‡∏≤‡∏°‡∏µ).
  - `Family`: ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ (‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á).
  - `Role-Based`: ‡∏•‡∏π‡∏Å‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà.

### 6.3 Sharing & Authorization Model

> [!IMPORTANT]
> **‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå (Sharing) ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà Visibility ‡πÅ‡∏ï‡πà‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á Authorization ‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö**

‡πÄ‡∏°‡∏∑‡πà‡∏≠ Account ‡∏´‡∏£‡∏∑‡∏≠ Event ‡∏ñ‡∏π‡∏Å‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:

#### 6.3.1 ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡∏ö‡∏±‡∏ç‡∏ä‡∏µ (Shared Account Authorization)

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏£‡πå Account ‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:

1. **‡∏™‡∏£‡πâ‡∏≤‡∏á Transaction ‡πÉ‡∏´‡∏°‡πà** ‡∏à‡∏≤‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ô‡∏±‡πâ‡∏ô
   - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö/‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢
   - ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤/‡∏≠‡∏≠‡∏Å
   - ‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô Transaction metadata

2. **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Transaction ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà** (‡∏ó‡∏±‡πâ‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô)
   - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô, ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà, ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏
   - ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å **Edit Log** ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
   - ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: ‡πÉ‡∏Ñ‡∏£‡πÅ‡∏Å‡πâ, ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà, ‡πÅ‡∏Å‡πâ‡∏≠‡∏∞‡πÑ‡∏£

3. **‡∏•‡∏ö Transaction** (‡∏ï‡∏≤‡∏°‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á Family)
   - Soft Delete (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡πá‡∏ô `Void`) ‡∏´‡∏£‡∏∑‡∏≠ Hard Delete
   - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Audit Trail

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**

- ‡∏û‡πà‡∏≠‡πÅ‡∏ä‡∏£‡πå‡∏ö‡∏±‡∏ç‡∏ä‡∏µ "Joint Savings" ‡πÉ‡∏´‡πâ‡πÅ‡∏°‡πà ‚Üí ‡πÅ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏à‡∏≤‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ô‡∏±‡πâ‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
- ‡πÅ‡∏°‡πà‡πÅ‡∏ä‡∏£‡πå‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡πÉ‡∏´‡πâ‡∏û‡πà‡∏≠ ‚Üí ‡∏û‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÑ‡∏î‡πâ ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥

#### 6.3.2 ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ï‡πå (Shared Event Authorization)

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏£‡πå Event ‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:

1. **‡∏™‡∏£‡πâ‡∏≤‡∏á Transaction ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô Event**
   - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö Event (‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡πà‡∏≤‡∏ó‡∏£‡∏¥‡∏õ, ‡∏Ñ‡πà‡∏≤‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå)
   - Transaction ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å Tag ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö Event ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

2. **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Event**
   - ‡∏ä‡∏∑‡πà‡∏≠, ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà
   - ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì (Budget)
   - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Event

3. **‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Task ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô Event** (‡∏ñ‡πâ‡∏≤ Event ‡∏°‡∏µ Task)
   - ‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏•‡∏ö Task
   - ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥/‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò Task (‡∏ï‡∏≤‡∏° Role)

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**

- Event "Family Trip Chiang Mai" ‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏û‡πà‡∏≠‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡πà ‚Üí ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏î‡πâ
- ‡πÅ‡∏°‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°, ‡∏û‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á ‚Üí ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏ß‡∏°‡∏¢‡∏≠‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

#### 6.3.3 Edit Log & Audit Trail

**‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç** ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

```json
{
  "edit_id": "uuid",
  "entity_type": "transaction" | "event" | "account",
  "entity_id": "uuid",
  "edited_by_user_id": "uuid",
  "edited_at": "timestamp",
  "changes": {
    "field_name": {
      "old_value": "...",
      "new_value": "..."
    }
  },
  "reason": "optional note from user"
}
```

**‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• Edit History:**

- ‡πÉ‡∏ô Transaction Detail Page ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ó‡πá‡∏ö "History"
- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤
- Format: "Dad ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏≤‡∏Å ‡∏ø500 ‡πÄ‡∏õ‡πá‡∏ô ‡∏ø550 ‚Ä¢ 2 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß"

#### 6.3.4 Permission Matrix

| Resource Type        | Owner        | Shared User                          | Family (View Only) | Child       |
| :------------------- | :----------- | :----------------------------------- | :----------------- | :---------- |
| **Account (Shared)** | Full Control | Create Txn, Edit Txn, View           | View Balance       | No Access\* |
| **Event (Shared)**   | Full Control | Create Txn, Edit Event, Manage Tasks | View               | Limited\*\* |
| **Transaction**      | Edit, Delete | Edit, Delete\*\*\*                   | View               | No Access   |

\*Child ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏´‡πá‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á (Allowance Account)  
**Child ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥ Task ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Event  
\***Shared User ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Transaction ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÑ‡∏î‡πâ ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô Transaction ‡∏Ç‡∏≠‡∏á Shared Account

#### 6.3.5 UI Indicators

- **Shared Icon**: ‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô üë• ‡∏Ç‡πâ‡∏≤‡∏á Account/Event ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÅ‡∏ä‡∏£‡πå
- **Created By Badge**: ‡πÅ‡∏™‡∏î‡∏á Avatar ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á Transaction
- **Edit History Badge**: ‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (‡πÄ‡∏ä‡πà‡∏ô "‚úèÔ∏è 3 edits")
- **Shared With List**: ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

> [!NOTE]
> ‡∏£‡∏∞‡∏ö‡∏ö Sharing ‡∏ô‡∏µ‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏™‡∏≤‡∏°‡∏µ‡∏†‡∏£‡∏£‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

---

## 7. ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ (Technical Architecture)

### 7.1 Tech Stack

- **Frontend:** Next.js (App Router), TypeScript, Tailwind CSS, Shadcn UI, **PWA**.
- **Backend:** Go (Fiber), GORM.
- **Database:** PostgreSQL (Relation & JSONB).

### 7.2 Database Schema Highlights

- `Users`: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö `parent_user_id` (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Profile) ‡πÅ‡∏•‡∏∞ `pin`.
- `Events`: ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏£‡∏ß‡∏° Task/Routine/Trip ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö `Transactions`.
- `Transactions`: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö `planned_amount`, `fee_amount`, `status`.
- `Media`: Polymorphic relation ‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö Entity ‡∏ï‡πà‡∏≤‡∏á‡πÜ.

---

## 8. ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤ (Development Roadmap)

### Phase 1: Foundation (Current)

- [ ] Setup Docker & Database
- [ ] Implement Go Models (User/Profile, Family, Asset)
- [ ] **Hybrid Auth API** (Login, Switch Profile, Invite)

### Phase 2: Financial Core

- [ ] Transaction API (Double Entry, Fee, Plan Status)
- [ ] Account & Asset Balance Calculation logic

### Phase 3: Event & Task System

- [ ] Event CRUD & Routine Logic
- [ ] Task Approval & Point Transfer System

### Phase 4: Frontend PWA

- [ ] Profile Selection Screen (Netflix Style)
- [ ] Dashboard & Forms
